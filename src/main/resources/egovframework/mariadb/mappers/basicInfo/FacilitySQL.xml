<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="apc.sl.basicInfo.facility.service.impl.FacilityMapper">

<select id="selectFacilityListToCnt" resultType="int">
		SELECT COUNT(*) FROM sm_facility
		WHERE 1=1
		<if test="searchKeyword != ''">
			AND fa_name LIKE CONCAT('%',#{searchKeyword},'%')
		</if>
	</select>

<select id="selectFacilityList" resultType="egovMap">
		SELECT
			a.fa_idx,
			a.fa_name,
			a.fa_reg_mem,
			b.f_name
		FROM sm_facility a
		JOIN sm_factory b
		ON a.f_code = b.f_code
		WHERE 1=1
		<if test="searchKeyword != ''">
			AND fa_name LIKE CONCAT('%',#{searchKeyword},'%')
		</if>
		ORDER BY fa_idx DESC
		LIMIT #{recordCountPerPage} OFFSET #{firstIndex}
	</select>




</mapper>