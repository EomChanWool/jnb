<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="apc.sl.material.stockState.service.impl.StockStateMapper">
	<select id="selectStockStateListToCnt" resultType="int">
		SELECT COUNT(*) FROM sm_item
		WHERE 1=1
		AND item_type = '자재'
		<if test="searchKeyword != ''">
			AND item_name LIKE CONCAT('%', #{searchKeyword}, '%')
		</if>
	</select>

	<select id="selectStockStateList" resultType="egovMap">
		SELECT
		item_cd,
		item_name,
		item_standard,
		FORMAT(item_stock, 0) AS item_stock,
		item_note
		FROM sm_item
		WHERE 1=1
		AND item_type = '자재'
		<if test="searchKeyword != ''">
			AND item_name LIKE CONCAT('%', #{searchKeyword}, '%')
		</if>
		ORDER BY item_cd DESC
		LIMIT #{recordCountPerPage} OFFSET #{firstIndex}
	</select>


	<select id="selectMoStockStateList" resultType="egovMap">


		SELECT
		item_cd,
		item_name,
		item_standard,
		FORMAT(item_stock, 0) AS item_stock,
		item_note
		FROM sm_item
		WHERE 1=1
		AND item_type = '제품'
		<if test="searchKeyword != ''">
			AND item_name LIKE CONCAT('%', #{searchKeyword}, '%')
		</if>
		ORDER BY item_cd DESC
		LIMIT #{recordCountPerPage} OFFSET #{firstIndex}


	</select>

</mapper>